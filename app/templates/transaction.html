<script type="module" src="{{ url_for('static', filename='js/add-transaction.mjs') }}"></script>
{% extends "layout.html" %}

{% block title %}Enter Transactions{% endblock %}

{% block content %}
  <section class="section container has-text-centered">
    <h1 class="title">Enter New Transaction</h1>
    <div class="columns">
      <div class="column is-half">

        <form autocomplete="off" method="POST" action="/transaction" id="transactionform" name="transactionform">
          {{ form.csrf_token }}

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              {{ form.account.label(class="label") }}
            </div>
            <div class="field-body">
              <div class="field">
                <div class="control">
                  <div class="select is-fullwidth">
                    {{ form.account }}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="field">
            <div class="field-label is-normal has-text-centered">
              {{ form.amount.label(class="label") }}
            </div>
            <div class="field-body columns is-mobile is-gapless">
              <span id="operator-buttons"
                  class="control buttons are-large has-addons column is-5 has-text-left pr-0">
                  <span class="button is-danger is-selected minus-button">
                      <i class="fas fa-minus"></i>
                  </span>
                  <span class="button plus-button">
                      <i class="fas fa-plus"></i>
                  </span>
              </span>
              <span class="field column auto pl-0">
                <p class="control has-icons-left amount-control has-text-right">
                  {{ form.amount(size=20, id="amount-input", class="input", type="text", inputmode="decimal", placeholder="0.00") }}
                  <span class="icon is-small is-left">
                    <i class="fas fa-solid fa-coins"></i>
                  </span>
                </p>
              </span>
            </div>
          </div>

          <div class="field">
            {{ form.memo.label(class="label") }}
            <p class="control has-icons-left autocomplete">
              {{ form.memo(size=20, id="memo-input", class="input") }}
              <span class="icon is-small is-left">
                <i class="fas fa-solid fa-pencil-alt"></i>
              </span>
            </p>
          </div>

          <div class="field">
            {{ form.notes.label(class="label") }}
            <p class="control has-icons-left">
              {{ form.notes(size=20, class="input") }}
              <span class="icon is-small is-left">
                <i class="fas fa-solid fa-file-alt"></i>
              </span>
            </p>
          </div>

          <div class="field is-grouped">
            <div class="control">
              <button class="button is-link" id="save-transaction" type="submit">Save Transaction</button>
            </div>
            <div class="control">
              <button class="button is-link is-light">Cancel</button>
            </div>
          </div>

        </form>
      </div>

      <div class="column is-half is-vcentered is-expanded">

        <div class="columns is-expanded">
          <div class="column is-half">
            This will form will insert a new transaction into the buckets database file, using the current date. The
            transaction will be uncategorized.
          </div>

          <div class="column is-half is-centered is-vcentered">
            <figure class="image is-128x128">
              <img src="{{ url_for('static', filename='bucket.png') }}">
            </figure>
          </div>
        </div>

      </div>

    </div>

  </section>
{% endblock %}
